package gziptest

import (
	"bytes"
	"compress/gzip"
	"fmt"
)

var data string = `{"header":{"parentHash":"0x5f3e1a662605fe4c1a7b26f7a84e66c6ffe7d56503e675e81e86a5aa33726b37","sha3Uncles":"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347","miner":"0x5a0b54d5dc17e0aadc383d2db43b0a0d3e029c4c","stateRoot":"0xe5613ce0eab670e3c92c81e84382c30174a9dd02dccd0ad55da0cee3f9516dcb","transactionsRoot":"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421","receiptsRoot":"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421","logsBloom":"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","difficulty":"0x8b3dc6a8633f3","number":"0x868761","gasLimit":"0x97f1a3","gasUsed":"0x0","timestamp":"0x5db4786e","extraData":"0x5050594520737061726b706f6f6c2d6574682d636e2d687a32","mixHash":"0xfa1ef05a78048a92ca9b8eb03f0aeb719a6083fd54bbaaa2ca6ea18f0882c18a","nonce":"0x56f2b9180109f03a","hash":"0x5715f190c16d0b954ee2741b255cdb5930b738ef7edba01852df8a721c81409b"},"receipts":null,"hash":"0x5715f190c16d0b954ee2741b255cdb5930b738ef7edba01852df8a721c81409b","transactions":[]}`

func main() {
	var buffer bytes.Buffer
	gzipWriter, err := gzip.NewWriterLevel(&buffer, gzip.BestSpeed)
	if err != nil {
		panic(err)
	}
	fmt.Println(buffer.String())
	fmt.Println(data)
	gzipWriter.Write([]byte(data))
	gzipWriter.Close()
	fmt.Println(buffer.String(), buffer.Len())
}
